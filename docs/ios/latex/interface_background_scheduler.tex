\hypertarget{interface_background_scheduler}{\section{Background\-Scheduler Class Reference}
\label{interface_background_scheduler}\index{Background\-Scheduler@{Background\-Scheduler}}
}


{\ttfamily \#import $<$Back\-Ground\-Scheduler.\-h$>$}

Inheritance diagram for Background\-Scheduler\-:\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=2.000000cm]{interface_background_scheduler}
\end{center}
\end{figure}
\subsection*{Instance Methods}
\begin{DoxyCompactItemize}
\item 
(void) -\/ \hyperlink{interface_background_scheduler_a50173200d1b7dfc44b1d2d2a49ca75be}{start\-Monitoring\-With\-Patient\-I\-D\-:}
\item 
(void) -\/ \hyperlink{interface_background_scheduler_afa9c1aaf67ac8d9f5fd17a43475777eb}{stop\-Monitoring}
\item 
(void) -\/ \hyperlink{interface_background_scheduler_a11390d5d6bb62b2c565ca9205d045b2a}{perform\-Scan}
\item 
(U\-I\-Application $\ast$) -\/ \hyperlink{interface_background_scheduler_a393315828a032dece36a93c53ee203d0}{app}
\end{DoxyCompactItemize}
\subsection*{Properties}
\begin{DoxyCompactItemize}
\item 
\hyperlink{interface_b_t_device_manager}{B\-T\-Device\-Manager} $\ast$ \hyperlink{interface_background_scheduler_aea6a288ffb185db815ddaeaf58c2edcd}{device\-Manager}
\item 
\hyperlink{interface_remote_d_b_connection_manager}{Remote\-D\-B\-Connection\-Manager} $\ast$ \hyperlink{interface_background_scheduler_a6dd785826954ce8d6adc2ad76284c458}{server\-Poller}
\item 
\hyperlink{interface_device_poll_manager}{Device\-Poll\-Manager} $\ast$ \hyperlink{interface_background_scheduler_a9f8103a5d35ba76fd32b5f0d3a2d5517}{device\-Poller}
\item 
\hyperlink{interface_d_b_manager}{D\-B\-Manager} $\ast$ \hyperlink{interface_background_scheduler_a6cacd8a0d6d25475816490b39dcf35d3}{database}
\item 
\hyperlink{interface_personal_info}{Personal\-Info} $\ast$ \hyperlink{interface_background_scheduler_a3f2d5c8d892ff5c8155305ae6bc2da1a}{patient}
\item 
B\-O\-O\-L \hyperlink{interface_background_scheduler_a5209bb2a1aa5fe8eeac8f89977252df7}{allow\-Monitoring}
\item 
N\-S\-Run\-Loop $\ast$ \hyperlink{interface_background_scheduler_a73f120ac0977837ac4a4095ad96d01ec}{run\-Loop}
\item 
N\-S\-Time\-Interval \hyperlink{interface_background_scheduler_ae2e25ad686446576c71a500b66f31e25}{device\-Poll\-Interval}
\item 
N\-S\-Time\-Interval \hyperlink{interface_background_scheduler_a6a4ebd391d86c9779122136b6c4dfc1c}{server\-Poll\-Interval}
\item 
U\-I\-Application $\ast$ \hyperlink{interface_background_scheduler_a8c133b6375de7c3e0cda3ac605ad2029}{app}
\item 
N\-S\-Timer $\ast$ \hyperlink{interface_background_scheduler_a9dee3016296e3a529451c25b426b8923}{device\-Poll\-Timer}
\item 
N\-S\-Timer $\ast$ \hyperlink{interface_background_scheduler_ab78e335cbdbd2c276c299380a982f0e4}{server\-Poll\-Timer}
\end{DoxyCompactItemize}


\subsection{Detailed Description}
This object is responsible for the coordination of the device poller, the database manager, and the process that pushes data to the remote server. 

\subsection{Method Documentation}
\hypertarget{interface_background_scheduler_a393315828a032dece36a93c53ee203d0}{\index{Background\-Scheduler@{Background\-Scheduler}!app@{app}}
\index{app@{app}!BackgroundScheduler@{Background\-Scheduler}}
\subsubsection[{app}]{\setlength{\rightskip}{0pt plus 5cm}-\/ (U\-I\-Application$\ast$) app 
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
}}\label{interface_background_scheduler_a393315828a032dece36a93c53ee203d0}
This method returns the shared instance of the U\-I\-Application. It is placed here to make dependency more obvious. \hypertarget{interface_background_scheduler_a11390d5d6bb62b2c565ca9205d045b2a}{\index{Background\-Scheduler@{Background\-Scheduler}!perform\-Scan@{perform\-Scan}}
\index{perform\-Scan@{perform\-Scan}!BackgroundScheduler@{Background\-Scheduler}}
\subsubsection[{perform\-Scan}]{\setlength{\rightskip}{0pt plus 5cm}-\/ (void) perform\-Scan 
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
}}\label{interface_background_scheduler_a11390d5d6bb62b2c565ca9205d045b2a}
This method does the actual polling of the devices and updating the database. \hypertarget{interface_background_scheduler_a50173200d1b7dfc44b1d2d2a49ca75be}{\index{Background\-Scheduler@{Background\-Scheduler}!start\-Monitoring\-With\-Patient\-I\-D\-:@{start\-Monitoring\-With\-Patient\-I\-D\-:}}
\index{start\-Monitoring\-With\-Patient\-I\-D\-:@{start\-Monitoring\-With\-Patient\-I\-D\-:}!BackgroundScheduler@{Background\-Scheduler}}
\subsubsection[{start\-Monitoring\-With\-Patient\-I\-D\-:}]{\setlength{\rightskip}{0pt plus 5cm}-\/ (void) start\-Monitoring\-With\-Patient\-I\-D\-: 
\begin{DoxyParamCaption}
\item[{(N\-S\-Integer)}]{identifier}
\end{DoxyParamCaption}
}}\label{interface_background_scheduler_a50173200d1b7dfc44b1d2d2a49ca75be}
This methods starts the polling process. It checks the devices for updated information and passes them to the database for updates. It also performs network updates to the server based on what it finds in the local datbase.


\begin{DoxyParams}{Parameters}
{\em identifier} & The patient\-I\-D that will be used for polling. \\
\hline
\end{DoxyParams}
\hypertarget{interface_background_scheduler_afa9c1aaf67ac8d9f5fd17a43475777eb}{\index{Background\-Scheduler@{Background\-Scheduler}!stop\-Monitoring@{stop\-Monitoring}}
\index{stop\-Monitoring@{stop\-Monitoring}!BackgroundScheduler@{Background\-Scheduler}}
\subsubsection[{stop\-Monitoring}]{\setlength{\rightskip}{0pt plus 5cm}-\/ (void) stop\-Monitoring 
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
}}\label{interface_background_scheduler_afa9c1aaf67ac8d9f5fd17a43475777eb}
This method stops the polling process. It kills the timers and does a final update to the remote server using all the data in the database. 

\subsection{Property Documentation}
\hypertarget{interface_background_scheduler_a5209bb2a1aa5fe8eeac8f89977252df7}{\index{Background\-Scheduler@{Background\-Scheduler}!allow\-Monitoring@{allow\-Monitoring}}
\index{allow\-Monitoring@{allow\-Monitoring}!BackgroundScheduler@{Background\-Scheduler}}
\subsubsection[{allow\-Monitoring}]{\setlength{\rightskip}{0pt plus 5cm}-\/ (B\-O\-O\-L) allow\-Monitoring\hspace{0.3cm}{\ttfamily [read]}, {\ttfamily [write]}, {\ttfamily [atomic]}}}\label{interface_background_scheduler_a5209bb2a1aa5fe8eeac8f89977252df7}
This flag is used by the scheduler to determine if the application is ready to monitor. It is not T\-R\-U\-E if the following conditions are not met. Both the activity and the heart rate devices must have been selected and connected. The location manager must be allowed to collection location updates. \hypertarget{interface_background_scheduler_a8c133b6375de7c3e0cda3ac605ad2029}{\index{Background\-Scheduler@{Background\-Scheduler}!app@{app}}
\index{app@{app}!BackgroundScheduler@{Background\-Scheduler}}
\subsubsection[{app}]{\setlength{\rightskip}{0pt plus 5cm}-\/ (U\-I\-Application $\ast$) app\hspace{0.3cm}{\ttfamily [read]}, {\ttfamily [atomic]}, {\ttfamily [assign]}}}\label{interface_background_scheduler_a8c133b6375de7c3e0cda3ac605ad2029}
The shared instance of the U\-I\-Application. It is used for determining the state of the application in order to execute the polling. \hypertarget{interface_background_scheduler_a6cacd8a0d6d25475816490b39dcf35d3}{\index{Background\-Scheduler@{Background\-Scheduler}!database@{database}}
\index{database@{database}!BackgroundScheduler@{Background\-Scheduler}}
\subsubsection[{database}]{\setlength{\rightskip}{0pt plus 5cm}-\/ ({\bf D\-B\-Manager}$\ast$) database\hspace{0.3cm}{\ttfamily [read]}, {\ttfamily [write]}, {\ttfamily [atomic]}}}\label{interface_background_scheduler_a6cacd8a0d6d25475816490b39dcf35d3}
The local database to store data from the devices during polling. \hypertarget{interface_background_scheduler_aea6a288ffb185db815ddaeaf58c2edcd}{\index{Background\-Scheduler@{Background\-Scheduler}!device\-Manager@{device\-Manager}}
\index{device\-Manager@{device\-Manager}!BackgroundScheduler@{Background\-Scheduler}}
\subsubsection[{device\-Manager}]{\setlength{\rightskip}{0pt plus 5cm}-\/ ({\bf B\-T\-Device\-Manager}$\ast$) device\-Manager\hspace{0.3cm}{\ttfamily [read]}, {\ttfamily [write]}, {\ttfamily [atomic]}, {\ttfamily [strong]}}}\label{interface_background_scheduler_aea6a288ffb185db815ddaeaf58c2edcd}
The device manager used for controlling the device connectivity and discovery. \hypertarget{interface_background_scheduler_a9f8103a5d35ba76fd32b5f0d3a2d5517}{\index{Background\-Scheduler@{Background\-Scheduler}!device\-Poller@{device\-Poller}}
\index{device\-Poller@{device\-Poller}!BackgroundScheduler@{Background\-Scheduler}}
\subsubsection[{device\-Poller}]{\setlength{\rightskip}{0pt plus 5cm}-\/ ({\bf Device\-Poll\-Manager}$\ast$) device\-Poller\hspace{0.3cm}{\ttfamily [read]}, {\ttfamily [write]}, {\ttfamily [atomic]}}}\label{interface_background_scheduler_a9f8103a5d35ba76fd32b5f0d3a2d5517}
The object that controlls the polling of the devices and pushes the data to the local database. \hypertarget{interface_background_scheduler_ae2e25ad686446576c71a500b66f31e25}{\index{Background\-Scheduler@{Background\-Scheduler}!device\-Poll\-Interval@{device\-Poll\-Interval}}
\index{device\-Poll\-Interval@{device\-Poll\-Interval}!BackgroundScheduler@{Background\-Scheduler}}
\subsubsection[{device\-Poll\-Interval}]{\setlength{\rightskip}{0pt plus 5cm}-\/ (N\-S\-Time\-Interval) device\-Poll\-Interval\hspace{0.3cm}{\ttfamily [read]}, {\ttfamily [write]}, {\ttfamily [atomic]}}}\label{interface_background_scheduler_ae2e25ad686446576c71a500b66f31e25}
The device polling interval. Used for controlling the time between poll requests from the devices. This is expressed in seconds and the default is 5 seconds. \hypertarget{interface_background_scheduler_a9dee3016296e3a529451c25b426b8923}{\index{Background\-Scheduler@{Background\-Scheduler}!device\-Poll\-Timer@{device\-Poll\-Timer}}
\index{device\-Poll\-Timer@{device\-Poll\-Timer}!BackgroundScheduler@{Background\-Scheduler}}
\subsubsection[{device\-Poll\-Timer}]{\setlength{\rightskip}{0pt plus 5cm}-\/ (N\-S\-Timer$\ast$) device\-Poll\-Timer\hspace{0.3cm}{\ttfamily [read]}, {\ttfamily [write]}, {\ttfamily [atomic]}}}\label{interface_background_scheduler_a9dee3016296e3a529451c25b426b8923}
The timer used for the device poller. The reference is stored so that it can be canceled outside of the method that invokes it. \hypertarget{interface_background_scheduler_a3f2d5c8d892ff5c8155305ae6bc2da1a}{\index{Background\-Scheduler@{Background\-Scheduler}!patient@{patient}}
\index{patient@{patient}!BackgroundScheduler@{Background\-Scheduler}}
\subsubsection[{patient}]{\setlength{\rightskip}{0pt plus 5cm}-\/ ({\bf Personal\-Info}$\ast$) patient\hspace{0.3cm}{\ttfamily [read]}, {\ttfamily [write]}, {\ttfamily [atomic]}}}\label{interface_background_scheduler_a3f2d5c8d892ff5c8155305ae6bc2da1a}
The patient data object. It is used by the database for updates to the table and by the server poller for pushes to the server. \hypertarget{interface_background_scheduler_a73f120ac0977837ac4a4095ad96d01ec}{\index{Background\-Scheduler@{Background\-Scheduler}!run\-Loop@{run\-Loop}}
\index{run\-Loop@{run\-Loop}!BackgroundScheduler@{Background\-Scheduler}}
\subsubsection[{run\-Loop}]{\setlength{\rightskip}{0pt plus 5cm}-\/ (N\-S\-Run\-Loop$\ast$) run\-Loop\hspace{0.3cm}{\ttfamily [read]}, {\ttfamily [write]}, {\ttfamily [atomic]}}}\label{interface_background_scheduler_a73f120ac0977837ac4a4095ad96d01ec}
The run loop for which the polling is to be executed on. \hypertarget{interface_background_scheduler_a6dd785826954ce8d6adc2ad76284c458}{\index{Background\-Scheduler@{Background\-Scheduler}!server\-Poller@{server\-Poller}}
\index{server\-Poller@{server\-Poller}!BackgroundScheduler@{Background\-Scheduler}}
\subsubsection[{server\-Poller}]{\setlength{\rightskip}{0pt plus 5cm}-\/ ({\bf Remote\-D\-B\-Connection\-Manager}$\ast$) server\-Poller\hspace{0.3cm}{\ttfamily [read]}, {\ttfamily [write]}, {\ttfamily [atomic]}}}\label{interface_background_scheduler_a6dd785826954ce8d6adc2ad76284c458}
The manager of the remote server pushes. It controlls connectivity to the server and pushes thdata to it. \hypertarget{interface_background_scheduler_a6a4ebd391d86c9779122136b6c4dfc1c}{\index{Background\-Scheduler@{Background\-Scheduler}!server\-Poll\-Interval@{server\-Poll\-Interval}}
\index{server\-Poll\-Interval@{server\-Poll\-Interval}!BackgroundScheduler@{Background\-Scheduler}}
\subsubsection[{server\-Poll\-Interval}]{\setlength{\rightskip}{0pt plus 5cm}-\/ (N\-S\-Time\-Interval) server\-Poll\-Interval\hspace{0.3cm}{\ttfamily [read]}, {\ttfamily [write]}, {\ttfamily [atomic]}}}\label{interface_background_scheduler_a6a4ebd391d86c9779122136b6c4dfc1c}
The server polling interval. Used for controlling when the server will receive updates from the local database. The default is 1 minute or 60 seconds. It is express in seconds. \hypertarget{interface_background_scheduler_ab78e335cbdbd2c276c299380a982f0e4}{\index{Background\-Scheduler@{Background\-Scheduler}!server\-Poll\-Timer@{server\-Poll\-Timer}}
\index{server\-Poll\-Timer@{server\-Poll\-Timer}!BackgroundScheduler@{Background\-Scheduler}}
\subsubsection[{server\-Poll\-Timer}]{\setlength{\rightskip}{0pt plus 5cm}-\/ (N\-S\-Timer$\ast$) server\-Poll\-Timer\hspace{0.3cm}{\ttfamily [read]}, {\ttfamily [write]}, {\ttfamily [atomic]}}}\label{interface_background_scheduler_ab78e335cbdbd2c276c299380a982f0e4}
The timer used for the server poller. The reference is stored so that it can be canceled outside of the method that invokes it. 

The documentation for this class was generated from the following files\-:\begin{DoxyCompactItemize}
\item 
/\-Users/douglas/\-Documents/software/\-Senior Project/ios/\-Medical Cyborgs/\-Medical Cyborgs/Back\-Ground\-Scheduler.\-h\item 
/\-Users/douglas/\-Documents/software/\-Senior Project/ios/\-Medical Cyborgs/\-Medical Cyborgs/Back\-Ground\-Scheduler.\-m\end{DoxyCompactItemize}
